{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- âœ… Basic Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ category.name }} â€“ ReelTalks | Latest {{ category.name }} News & Updates</title>
    <meta name="description" content="Explore the latest and trending {{ category.name }} news, stories, and blogs from ReelTalks. Stay updated with top entertainment, movies, celebrity, and film industry buzz.">
    <meta name="keywords" content="{{ category.name }}, ReelTalks, trending news, film news, entertainment, Telugu cinema, Bollywood, movie updates, celebrity news, latest stories">
    <meta name="robots" content="index, follow">
    <meta name="author" content="ReelTalks Team">
    <meta name="language" content="English">
    <meta name="theme-color" content="#2563eb">

    <!-- âœ… Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ReelTalks">
    <meta property="og:title" content="{{ category.name }} â€“ ReelTalks">
    <meta property="og:description" content="Stay updated with the latest {{ category.name }} blogs and trending news on ReelTalks.">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:image" content="{% static 'images/Logo24.jpg' %}">
    <meta property="og:locale" content="en_IN">

    <!-- âœ… Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ category.name }} â€“ ReelTalks">
    <meta name="twitter:description" content="Stay updated with the latest {{ category.name }} blogs and trending news on ReelTalks.">
    <meta name="twitter:image" content="{% static 'images/Logo24.jpg' %}">

    <!-- âœ… Canonical -->
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <!-- âœ… Favicon -->
    <link rel="icon" href="{% static 'images/Logo24.jpg' %}" type="image/png">

    <!-- âœ… Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* ðŸ‘ˆ ensures footer stays at bottom */
        }
        main {
            flex: 1; /* ðŸ‘ˆ pushes footer down */
        }
        .nav-active { color: #2563eb; border-bottom: 2px solid #2563eb; }
    </style>
</head>

<body class="bg-gray-50 text-gray-900">

<!-- ðŸ” HEADER -->
<header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
        <a href="{% url 'ReelBlog:home' %}" class="flex items-center space-x-2">
            <img src="{% static 'images/Logo24.jpg' %}" alt="ReelTalks Logo" class="h-10 w-auto object-contain">
            <span class="text-xl font-bold text-gray-800 hidden sm:block"></span>
        </a>
        <button class="md:hidden text-gray-700 focus:outline-none" id="menu-toggle">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
        </button>
    </div>

    <!-- ðŸ§­ MENU -->
    <nav id="main-nav" class="bg-gray-100 md:flex items-center justify-center space-x-4 hidden md:block">
        <div class="flex flex-wrap justify-center space-x-3 py-2">
            <a href="{% url 'ReelBlog:home' %}" class="text-gray-700 hover:text-blue-600 px-3 py-2 font-medium">Home</a>
            <a href="#categories" class="text-gray-700 hover:text-blue-600 px-3 py-2 font-medium">All Categories</a>
            {% for cat in categories %}
                <a href="{% url 'ReelBlog:category_posts' cat.name %}"
                   class="text-gray-700 hover:text-blue-600 px-3 py-2 font-medium {% if cat.name == category.name %}text-blue-600 font-semibold{% endif %}">
                   {{ cat.name }}
                </a>
            {% endfor %}
        </div>
    </nav>
</header>

<main>
<!-- ðŸ“š CATEGORY TITLE -->
<section class="max-w-7xl mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-blue-700 mb-4">ðŸŽ¬ {{ category.name }}</h1>
    <p class="text-gray-600 mb-6">Explore all the latest posts under <strong>{{ category.name }}</strong>.</p>

    <!-- ðŸ“° POSTS GRID -->
    {% if posts %}
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for post in posts %}
        <div class="bg-white rounded-2xl shadow hover:shadow-lg overflow-hidden transition">
            {% if post.image %}
                <img src="{{ post.image.url }}" alt="{{ post.title }}" loading="lazy" class="w-full h-48 object-cover">
            {% endif %}
            <div class="p-4">
                <span class="text-sm text-blue-600 font-medium">{{ post.category.name }}</span>
                <h4 class="font-semibold text-lg my-2">{{ post.title|truncatechars:60 }}</h4>
                <p class="text-gray-600 text-sm mb-3">{{ post.content|truncatechars_html:120|safe }}</p>
                <a href="{% url 'ReelBlog:blog_detail' post.id %}" class="text-blue-600 font-semibold hover:underline">Read More â†’</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p class="text-gray-500 italic">No posts found in this category yet.</p>
    {% endif %}
</section>

<!-- ðŸ—‚ï¸ ALL CATEGORIES GRID -->
<section id="categories" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-bold text-blue-700 mb-6">ðŸŒŸ Explore More Categories</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for cat in categories %}
        <div class="bg-white rounded-2xl shadow hover:shadow-lg transition overflow-hidden text-center p-5">
            <img src="{% static 'images/Logo24.jpg' %}" alt="{{ cat.name }}" class="w-20 h-20 mx-auto mb-4 object-cover rounded-full border">
            <h3 class="font-semibold text-lg text-gray-800 mb-2">{{ cat.name }}</h3>
            <a href="{% url 'ReelBlog:category_posts' cat.name %}" class="text-blue-600 font-semibold hover:underline">View Posts â†’</a>
        </div>
        {% endfor %}
    </div>
</section>
</main>

<!-- âš“ FOOTER (fixed at bottom) -->
<footer class="bg-gray-900 text-gray-300 text-center py-4 mt-auto">
    <p>Â© 2025 <a href="https://reeltalks.live" class="text-blue-400 hover:underline">ReelTalks.live</a> â€” All rights reserved.</p>
</footer>

<script>
    // ðŸ“± Mobile menu toggle
    const menuToggle = document.getElementById("menu-toggle");
    const nav = document.getElementById("main-nav");
    menuToggle.addEventListener("click", () => nav.classList.toggle("hidden"));
</script>

</body>
</html>
